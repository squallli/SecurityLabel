var messageBox; var pMap; var locator; locator = new TGOS.TGLocateService(); var map;
var pMapsetCenter = ["304522.675", "2771085.068"];
for (var i = 0; i < infotext.length;
i++) { infotext[i] = "<B>" + infotextBoldface[i] + "</B><br>" + infotextAddress[i] + "<br>" + infotextOther[i]; } for (var i = 0; i < imgUrl.length; i++) {
    imgUrl[i] = InputimgUrl;
} function InitWnd() {
    var l = document.getElementById("TGMap"); var g = { scaleControl: false, navigationControl: true, navigationControlOptions: { controlPosition: TGOS.TGControlPosition.TOP_LEFT, navigationControlStyle: TGOS.TGNavigationControlStyle.SMALL }, mapTypeControl: false };
    pMap = new TGOS.TGOnlineMap(l, TGOS.TGCoordSys.EPSG3857, g); pMap.setZoom(pMapsetZoom); pMap.setCenter(new TGOS.TGPoint(pMapsetCenter[0], pMapsetCenter[1])); pMap.panBy(100, 0);
    for (var j = 0; j < infotext.length; j++) {
        var h = new TGOS.TGImage(imgUrl[j], new TGOS.TGSize(18, 19), new TGOS.TGPoint(0, 0), new TGOS.TGPoint(18, 19));
        var k = new TGOS.TGMarker(pMap, markerPoint[j], "", h, { flat: false });
        k.setTitle(infotextBoldface[j]);//    Title
        var m = { maxWidth: 4000, pixelOffset: new TGOS.TGSize(-10, -30) }; messageBox = new TGOS.TGInfoWindow(infotext[j], markerPoint[j], m);
        
        TGOS.TGEvent.addListener(k, "click", function (b, a) {
            
            return function () {
                toMsgClose();
                a.open(pMap, b);
                messageBoxArray.push(a); //messageBox°}¦C¯Á¤Þ
            };
            
        }(k, messageBox));

        //TGOS.TGEvent.addListener(k, "mouseout", function (a) { return function () { a.close(); }; }(messageBox));
    }
}

